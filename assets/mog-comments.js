(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const y of i.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&a(y)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}})();function yt(o){return o.replace(/([A-Z])/g,t=>`-${t[0].toLowerCase()}`)}function F(o){if(Array.isArray(o)){const a=document.createDocumentFragment();for(const n of o)a.appendChild(F(n));return a}const t=o.tagName==="Fragment"?document.createDocumentFragment():document.createElement(o.tagName),e=o.attributes;for(const a in e){const n=e[a];if(a.startsWith("on")){const i=a.slice(2).toLowerCase();t.addEventListener(i,n)}if(a==="style")for(const i of n){const y=n[i];t.style[i]=y}else o.tagName!=="Fragment"&&t.setAttribute(yt(a),n)}if(o.children)for(const a of o.children){if(typeof a=="string"){t.appendChild(document.createTextNode(a));continue}t.appendChild(F(a))}return t}function zt(o,t){const e=t.el,a=t.attributes;for(const n in a)if(n.startsWith("on")){if(typeof(o==null?void 0:o.attributes[n])=="function"){const i=n.slice(2).toLowerCase();e.removeEventListener(i,o.attributes[n]),e.addEventListener(i,a[n])}}else e.setAttribute(yt(n),a[n]);for(const n of t.children){if(typeof n=="string"){e.appendChild(document.createTextNode(n));continue}e.appendChild(F(n))}if(t.children)for(const n of Object.values(t.children))tt(void 0,n);return e}function tt(o,t){if(t.isDeleted)return t.el.parentNode.removeChild(t.el),t;if(t.isNew)return console.log("create",t),t.el=F(t),t;if(t.isUpdated){const e=zt(o,t);return e&&(t.el=e),t}if(t.children)for(const e of Object.values(t.children))tt(void 0,e);return t}function B(o,t=["isNew"]){for(const e of t)o[e]&&(o[e]=!1);if(o.children)for(const e of Object.values(o.children))B(e,t);return o}function Dt(o,t){for(const e in t)if(e==="style")for(const a in t[e])o.style[a]=t[e][a];else o.setAttribute(e,t[e])}function gt(o,t,e,a){var n;if(t.isUpdated?(Dt(t.el,t.attributes),typeof t.children=="string"&&(t.el.textContent=t.children),(n=o.parentNode)===null||n===void 0||n.replaceChild(F(t),o)):t.isNew?o.appendChild(F(t)):t.isDeleted&&o.removeChild(o.childNodes[a]),t.children instanceof Array)for(let i=0;i<t.children.length;i++){const y=o.childNodes[i];gt(y,t.children[i],e.children[i],i)}}function Ut(o,t,e){o||vt(t),t=wt(o,t);const a=tt(o,t);if(e){const n=[];if(e.childNodes[0].nodeName==="STYLE"&&e.childNodes.forEach(i=>{i.nodeName!=="STYLE"&&n.push(i)}),a.children instanceof Array)for(let i=0;i<a.children.length;i++)gt(n[i],a.children[i],o.children[i],i)}return B(a,["isUpdated","isNew","isDeleted"])}function vt(o){if(o.isNew)for(const t of o.children)vt(t)}function wt(o,t,e){if(!o)return t;if(typeof o=="string"&&typeof t=="string"&&o!==t&&(t=t,e.isUpdated=!0),o==null?void 0:o.isDeleted)return o;if((o==null?void 0:o.tagName)!==t.tagName&&(o.isDeleted=!0,t.isNew=!0),JSON.stringify(o.attributes)!==JSON.stringify(t.attributes)&&(t.isUpdated=!0),o.children&&t.children){const a=Object.values(o.children),n=Object.values(t.children);if(JSON.stringify(a)!==JSON.stringify(n)){const i=Math.max(a.length,n.length);for(let y=0;y<i;y++)t.children[y]=wt(a[y],n[y],t)}}return t}class et{constructor(t,e,a){this.tagName=t,this.attributes=e,this.children=a,this.isNew=!0,this.isUpdated=!1,this.isDeleted=!1,this.el=document.createElement(t)}static isVNode(t){return t instanceof et}}function x(o,t,...e){return new et(o,t,e)}const Wt="Fragment",D="jwc:component:props";function qt(o){return new Proxy(o,{get(t,e){return Reflect.get(t,e)},set(t,e,a){return Reflect.set(t,e,a),!0}})}function Jt(o,t,e){const a=qt(e);Object.defineProperty(o,t,{get(){return a.value},set(n){var i;a.value=n,this.shouldUpdate=!0,(i=this.watchersMap.get(t))===null||i===void 0||i.forEach(y=>{y.callback.call(this,n,e)}),this.updateDiff()}})}function Kt(o,t,e){const{default:a,required:n}=e,i=Reflect.getMetadata(D,o)||[];i.push({attr:t,default:a,required:n}),Reflect.defineMetadata(D,i,o)}function Ht(o,t,e){Kt(o,t,e)}function dt(o){const t=document.createElement("style");return t.appendChild(document.createTextNode(o)),t}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pt;(function(o){(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),a=n(o);typeof e.Reflect>"u"?e.Reflect=o:a=n(e.Reflect,a),t(a);function n(i,y){return function(h,S){typeof i[h]!="function"&&Object.defineProperty(i,h,{configurable:!0,writable:!0,value:S}),y&&y(h,S)}}})(function(t){var e=Object.prototype.hasOwnProperty,a=typeof Symbol=="function",n=a&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",i=a&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",y=typeof Object.create=="function",h={__proto__:[]}instanceof Array,S=!y&&!h,l={create:y?function(){return V(Object.create(null))}:h?function(){return V({__proto__:null})}:function(){return V({})},has:S?function(r,s){return e.call(r,s)}:function(r,s){return s in r},get:S?function(r,s){return e.call(r,s)?r[s]:void 0}:function(r,s){return r[s]}},u=Object.getPrototypeOf(Function),f=typeof process=="object"&&process.env&&{}.REFLECT_METADATA_USE_MAP_POLYFILL==="true",c=!f&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Bt(),p=!f&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Rt(),T=!f&&typeof WeakMap=="function"?WeakMap:$t(),E=new T;function O(r,s,d,m){if(C(d)){if(!ut(r))throw new TypeError;if(!lt(s))throw new TypeError;return St(r,s)}else{if(!ut(r))throw new TypeError;if(!j(s))throw new TypeError;if(!j(m)&&!C(m)&&!P(m))throw new TypeError;return P(m)&&(m=void 0),d=M(d),Ct(r,s,d,m)}}t("decorate",O);function A(r,s){function d(m,g){if(!j(m))throw new TypeError;if(!C(g)&&!Mt(g))throw new TypeError;it(r,s,m,g)}return d}t("metadata",A);function W(r,s,d,m){if(!j(d))throw new TypeError;return C(m)||(m=M(m)),it(r,s,d,m)}t("defineMetadata",W);function q(r,s,d){if(!j(s))throw new TypeError;return C(d)||(d=M(d)),rt(r,s,d)}t("hasMetadata",q);function J(r,s,d){if(!j(s))throw new TypeError;return C(d)||(d=M(d)),H(r,s,d)}t("hasOwnMetadata",J);function K(r,s,d){if(!j(s))throw new TypeError;return C(d)||(d=M(d)),ot(r,s,d)}t("getMetadata",K);function xt(r,s,d){if(!j(s))throw new TypeError;return C(d)||(d=M(d)),nt(r,s,d)}t("getOwnMetadata",xt);function _t(r,s){if(!j(r))throw new TypeError;return C(s)||(s=M(s)),at(r,s)}t("getMetadataKeys",_t);function kt(r,s){if(!j(r))throw new TypeError;return C(s)||(s=M(s)),st(r,s)}t("getOwnMetadataKeys",kt);function Et(r,s,d){if(!j(s))throw new TypeError;C(d)||(d=M(d));var m=$(s,d,!1);if(C(m)||!m.delete(r))return!1;if(m.size>0)return!0;var g=E.get(s);return g.delete(d),g.size>0||E.delete(s),!0}t("deleteMetadata",Et);function St(r,s){for(var d=r.length-1;d>=0;--d){var m=r[d],g=m(s);if(!C(g)&&!P(g)){if(!lt(g))throw new TypeError;s=g}}return s}function Ct(r,s,d,m){for(var g=r.length-1;g>=0;--g){var L=r[g],w=L(s,d,m);if(!C(w)&&!P(w)){if(!j(w))throw new TypeError;m=w}}return m}function $(r,s,d){var m=E.get(r);if(C(m)){if(!d)return;m=new c,E.set(r,m)}var g=m.get(s);if(C(g)){if(!d)return;g=new c,m.set(s,g)}return g}function rt(r,s,d){var m=H(r,s,d);if(m)return!0;var g=Y(s);return P(g)?!1:rt(r,g,d)}function H(r,s,d){var m=$(s,d,!1);return C(m)?!1:jt(m.has(r))}function ot(r,s,d){var m=H(r,s,d);if(m)return nt(r,s,d);var g=Y(s);if(!P(g))return ot(r,g,d)}function nt(r,s,d){var m=$(s,d,!1);if(!C(m))return m.get(r)}function it(r,s,d,m){var g=$(d,m,!0);g.set(r,s)}function at(r,s){var d=st(r,s),m=Y(r);if(m===null)return d;var g=at(m,s);if(g.length<=0)return d;if(d.length<=0)return g;for(var L=new p,w=[],b=0,v=d;b<v.length;b++){var _=v[b],k=L.has(_);k||(L.add(_),w.push(_))}for(var N=0,ht=g;N<ht.length;N++){var _=ht[N],k=L.has(_);k||(L.add(_),w.push(_))}return w}function st(r,s){var d=[],m=$(r,s,!1);if(C(m))return d;for(var g=m.keys(),L=Nt(g),w=0;;){var b=Pt(L);if(!b)return d.length=w,d;var v=Ft(b);try{d[w]=v}catch(_){try{It(L)}finally{throw _}}w++}}function ct(r){if(r===null)return 1;switch(typeof r){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return r===null?1:6;default:return 6}}function C(r){return r===void 0}function P(r){return r===null}function Tt(r){return typeof r=="symbol"}function j(r){return typeof r=="object"?r!==null:typeof r=="function"}function Ot(r,s){switch(ct(r)){case 0:return r;case 1:return r;case 2:return r;case 3:return r;case 4:return r;case 5:return r}var d=s===3?"string":s===5?"number":"default",m=ft(r,n);if(m!==void 0){var g=m.call(r,d);if(j(g))throw new TypeError;return g}return At(r,d==="default"?"number":d)}function At(r,s){if(s==="string"){var d=r.toString;if(I(d)){var m=d.call(r);if(!j(m))return m}var g=r.valueOf;if(I(g)){var m=g.call(r);if(!j(m))return m}}else{var g=r.valueOf;if(I(g)){var m=g.call(r);if(!j(m))return m}var L=r.toString;if(I(L)){var m=L.call(r);if(!j(m))return m}}throw new TypeError}function jt(r){return!!r}function Lt(r){return""+r}function M(r){var s=Ot(r,3);return Tt(s)?s:Lt(s)}function ut(r){return Array.isArray?Array.isArray(r):r instanceof Object?r instanceof Array:Object.prototype.toString.call(r)==="[object Array]"}function I(r){return typeof r=="function"}function lt(r){return typeof r=="function"}function Mt(r){switch(ct(r)){case 3:return!0;case 4:return!0;default:return!1}}function ft(r,s){var d=r[s];if(d!=null){if(!I(d))throw new TypeError;return d}}function Nt(r){var s=ft(r,i);if(!I(s))throw new TypeError;var d=s.call(r);if(!j(d))throw new TypeError;return d}function Ft(r){return r.value}function Pt(r){var s=r.next();return s.done?!1:s}function It(r){var s=r.return;s&&s.call(r)}function Y(r){var s=Object.getPrototypeOf(r);if(typeof r!="function"||r===u||s!==u)return s;var d=r.prototype,m=d&&Object.getPrototypeOf(d);if(m==null||m===Object.prototype)return s;var g=m.constructor;return typeof g!="function"||g===r?s:g}function Bt(){var r={},s=[],d=function(){function w(b,v,_){this._index=0,this._keys=b,this._values=v,this._selector=_}return w.prototype["@@iterator"]=function(){return this},w.prototype[i]=function(){return this},w.prototype.next=function(){var b=this._index;if(b>=0&&b<this._keys.length){var v=this._selector(this._keys[b],this._values[b]);return b+1>=this._keys.length?(this._index=-1,this._keys=s,this._values=s):this._index++,{value:v,done:!1}}return{value:void 0,done:!0}},w.prototype.throw=function(b){throw this._index>=0&&(this._index=-1,this._keys=s,this._values=s),b},w.prototype.return=function(b){return this._index>=0&&(this._index=-1,this._keys=s,this._values=s),{value:b,done:!0}},w}();return function(){function w(){this._keys=[],this._values=[],this._cacheKey=r,this._cacheIndex=-2}return Object.defineProperty(w.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),w.prototype.has=function(b){return this._find(b,!1)>=0},w.prototype.get=function(b){var v=this._find(b,!1);return v>=0?this._values[v]:void 0},w.prototype.set=function(b,v){var _=this._find(b,!0);return this._values[_]=v,this},w.prototype.delete=function(b){var v=this._find(b,!1);if(v>=0){for(var _=this._keys.length,k=v+1;k<_;k++)this._keys[k-1]=this._keys[k],this._values[k-1]=this._values[k];return this._keys.length--,this._values.length--,b===this._cacheKey&&(this._cacheKey=r,this._cacheIndex=-2),!0}return!1},w.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=r,this._cacheIndex=-2},w.prototype.keys=function(){return new d(this._keys,this._values,m)},w.prototype.values=function(){return new d(this._keys,this._values,g)},w.prototype.entries=function(){return new d(this._keys,this._values,L)},w.prototype["@@iterator"]=function(){return this.entries()},w.prototype[i]=function(){return this.entries()},w.prototype._find=function(b,v){return this._cacheKey!==b&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=b)),this._cacheIndex<0&&v&&(this._cacheIndex=this._keys.length,this._keys.push(b),this._values.push(void 0)),this._cacheIndex},w}();function m(w,b){return w}function g(w,b){return b}function L(w,b){return[w,b]}}function Rt(){return function(){function r(){this._map=new c}return Object.defineProperty(r.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),r.prototype.has=function(s){return this._map.has(s)},r.prototype.add=function(s){return this._map.set(s,s),this},r.prototype.delete=function(s){return this._map.delete(s)},r.prototype.clear=function(){this._map.clear()},r.prototype.keys=function(){return this._map.keys()},r.prototype.values=function(){return this._map.values()},r.prototype.entries=function(){return this._map.entries()},r.prototype["@@iterator"]=function(){return this.keys()},r.prototype[i]=function(){return this.keys()},r}()}function $t(){var r=16,s=l.create(),d=m();return function(){function v(){this._key=m()}return v.prototype.has=function(_){var k=g(_,!1);return k!==void 0?l.has(k,this._key):!1},v.prototype.get=function(_){var k=g(_,!1);return k!==void 0?l.get(k,this._key):void 0},v.prototype.set=function(_,k){var N=g(_,!0);return N[this._key]=k,this},v.prototype.delete=function(_){var k=g(_,!1);return k!==void 0?delete k[this._key]:!1},v.prototype.clear=function(){this._key=m()},v}();function m(){var v;do v="@@WeakMap@@"+b();while(l.has(s,v));return s[v]=!0,v}function g(v,_){if(!e.call(v,d)){if(!_)return;Object.defineProperty(v,d,{value:l.create()})}return v[d]}function L(v,_){for(var k=0;k<_;++k)v[k]=Math.random()*255|0;return v}function w(v){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(v)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(v)):L(new Uint8Array(v),v):L(new Array(v),v)}function b(){var v=w(r);v[6]=v[6]&79|64,v[8]=v[8]&191|128;for(var _="",k=0;k<r;++k){var N=v[k];(k===4||k===6||k===8)&&(_+="-"),N<16&&(_+="0"),_+=N.toString(16).toLowerCase()}return _}}function V(r){return r.__=void 0,delete r.__,r}})})(pt||(pt={}));const G=new WeakMap;class Yt extends HTMLElement{getMetaList(t){return Reflect.getMetadata(t,this)||new Map}initWatcher(){(this.getMetaList(D)||[]).forEach(t=>{const{callbackName:e}=t,a=this.watchersMap.get(e);a?this.watchersMap.set(e,[...a,t]):this.watchersMap.set(e,[t])})}constructor(){super(),this.rootNode=null,this.$data=null,this.$options=null,this.$deps=null,this.$lastRender=null,this.customStyles=null,this.shouldUpdate=!1,this.props={},this.propsList=[],this.previousProps={},this.previousVNode=null,this.watchersMap=new Map,this.host=this,this.$options=this.constructor.$options,this.init()}initCSS(t){if(G.has(this.constructor))t.adoptedStyleSheets=G.get(this.constructor);else{const e=this.$options.css;if(e){const a=new CSSStyleSheet;a.replaceSync(e),t.adoptedStyleSheets=[a],G.set(this.constructor,[a])}}return t}initShadowRoot(){let t=this.shadowRoot||this.attachShadow({mode:"open"});return t=this.initCSS(this.shadowRoot),this.$options.css&&t.appendChild(dt(this.$options.css)),this.inlineStyles&&(this.customStyles=dt(this.inlineStyles),t.appendChild(this.customStyles)),t}attrsToProps(){const t=this.shadowRoot&&this.shadowRoot.host?this.shadowRoot.host:this,e={};for(let a=0;a<t.attributes.length;a++){const n=t.attributes[a];e[n.name]=n.value}this.propsList.forEach(a=>{const{attr:n,default:i}=a;e[n]?(this.previousProps[n]=e[n],this[n]=e[n]):(this.previousProps[n]=i,this[n]=i)})}init(){this.props=this.getMetaList(D)||[],this.propsList=Object.values(this.props);const t=this;this.propsList.forEach(e=>{const{attr:a,default:n}=e;this.previousProps[a]=n,this[a]=n,Jt(t,a,e)}),this.initWatcher()}get inlineStyles(){return super.getAttribute("style")}updateDiff(){const t=this.$lastRender,e=this.render(this.$data);t&&(this.$lastRender=null,this.$lastRender=Ut(B(t),B(e),this.shadowRoot))}customEvent(t,e){const a=new CustomEvent(t,{detail:e,bubbles:!0,composed:!0});this.dispatchEvent(a)}connectedCallback(){const t=this.initShadowRoot();this.attrsToProps();const e=this.props,a=this;e.forEach(i=>{const y=t.host.getAttribute(i.attr);y&&(a[i.attr]=y)});const n=this.render(this.$data);this.rootNode=F(B(n)),this.$options.isMounted&&this.rootNode&&t.appendChild(this.rootNode),this.$lastRender=B(n)}disconnectedCallback(){}attributeChangedCallback(t,e,a){e!==a&&(this.props[t]=a),this.updateDiff()}adoptedCallback(){}render(t){}}function U(o){return(t,e)=>{Ht(t,String(e),o)}}function Vt(o){return function(t){o.isMounted===void 0&&(o.isMounted=!0),customElements.get(o.name)&&console.warn(`The component ${o.name} already exists.`),t.$options=o,customElements.define(o.name,t,o.options||{})}}var Z={},Gt={get exports(){return Z},set exports(o){Z=o}},Q={},Zt={get exports(){return Q},set exports(o){Q=o}};(function(){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(e,a){return e<<a|e>>>32-a},rotr:function(e,a){return e<<32-a|e>>>a},endian:function(e){if(e.constructor==Number)return t.rotl(e,8)&16711935|t.rotl(e,24)&4278255360;for(var a=0;a<e.length;a++)e[a]=t.endian(e[a]);return e},randomBytes:function(e){for(var a=[];e>0;e--)a.push(Math.floor(Math.random()*256));return a},bytesToWords:function(e){for(var a=[],n=0,i=0;n<e.length;n++,i+=8)a[i>>>5]|=e[n]<<24-i%32;return a},wordsToBytes:function(e){for(var a=[],n=0;n<e.length*32;n+=8)a.push(e[n>>>5]>>>24-n%32&255);return a},bytesToHex:function(e){for(var a=[],n=0;n<e.length;n++)a.push((e[n]>>>4).toString(16)),a.push((e[n]&15).toString(16));return a.join("")},hexToBytes:function(e){for(var a=[],n=0;n<e.length;n+=2)a.push(parseInt(e.substr(n,2),16));return a},bytesToBase64:function(e){for(var a=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],y=0;y<4;y++)n*8+y*6<=e.length*8?a.push(o.charAt(i>>>6*(3-y)&63)):a.push("=");return a.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var a=[],n=0,i=0;n<e.length;i=++n%4)i!=0&&a.push((o.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<i*2|o.indexOf(e.charAt(n))>>>6-i*2);return a}};Zt.exports=t})();var X={utf8:{stringToBytes:function(o){return X.bin.stringToBytes(unescape(encodeURIComponent(o)))},bytesToString:function(o){return decodeURIComponent(escape(X.bin.bytesToString(o)))}},bin:{stringToBytes:function(o){for(var t=[],e=0;e<o.length;e++)t.push(o.charCodeAt(e)&255);return t},bytesToString:function(o){for(var t=[],e=0;e<o.length;e++)t.push(String.fromCharCode(o[e]));return t.join("")}}},mt=X;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Qt=function(o){return o!=null&&(bt(o)||Xt(o)||!!o._isBuffer)};function bt(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function Xt(o){return typeof o.readFloatLE=="function"&&typeof o.slice=="function"&&bt(o.slice(0,0))}(function(){var o=Q,t=mt.utf8,e=Qt,a=mt.bin,n=function(i,y){i.constructor==String?y&&y.encoding==="binary"?i=a.stringToBytes(i):i=t.stringToBytes(i):e(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var h=o.bytesToWords(i),S=i.length*8,l=1732584193,u=-271733879,f=-1732584194,c=271733878,p=0;p<h.length;p++)h[p]=(h[p]<<8|h[p]>>>24)&16711935|(h[p]<<24|h[p]>>>8)&4278255360;h[S>>>5]|=128<<S%32,h[(S+64>>>9<<4)+14]=S;for(var T=n._ff,E=n._gg,O=n._hh,A=n._ii,p=0;p<h.length;p+=16){var W=l,q=u,J=f,K=c;l=T(l,u,f,c,h[p+0],7,-680876936),c=T(c,l,u,f,h[p+1],12,-389564586),f=T(f,c,l,u,h[p+2],17,606105819),u=T(u,f,c,l,h[p+3],22,-1044525330),l=T(l,u,f,c,h[p+4],7,-176418897),c=T(c,l,u,f,h[p+5],12,1200080426),f=T(f,c,l,u,h[p+6],17,-1473231341),u=T(u,f,c,l,h[p+7],22,-45705983),l=T(l,u,f,c,h[p+8],7,1770035416),c=T(c,l,u,f,h[p+9],12,-1958414417),f=T(f,c,l,u,h[p+10],17,-42063),u=T(u,f,c,l,h[p+11],22,-1990404162),l=T(l,u,f,c,h[p+12],7,1804603682),c=T(c,l,u,f,h[p+13],12,-40341101),f=T(f,c,l,u,h[p+14],17,-1502002290),u=T(u,f,c,l,h[p+15],22,1236535329),l=E(l,u,f,c,h[p+1],5,-165796510),c=E(c,l,u,f,h[p+6],9,-1069501632),f=E(f,c,l,u,h[p+11],14,643717713),u=E(u,f,c,l,h[p+0],20,-373897302),l=E(l,u,f,c,h[p+5],5,-701558691),c=E(c,l,u,f,h[p+10],9,38016083),f=E(f,c,l,u,h[p+15],14,-660478335),u=E(u,f,c,l,h[p+4],20,-405537848),l=E(l,u,f,c,h[p+9],5,568446438),c=E(c,l,u,f,h[p+14],9,-1019803690),f=E(f,c,l,u,h[p+3],14,-187363961),u=E(u,f,c,l,h[p+8],20,1163531501),l=E(l,u,f,c,h[p+13],5,-1444681467),c=E(c,l,u,f,h[p+2],9,-51403784),f=E(f,c,l,u,h[p+7],14,1735328473),u=E(u,f,c,l,h[p+12],20,-1926607734),l=O(l,u,f,c,h[p+5],4,-378558),c=O(c,l,u,f,h[p+8],11,-2022574463),f=O(f,c,l,u,h[p+11],16,1839030562),u=O(u,f,c,l,h[p+14],23,-35309556),l=O(l,u,f,c,h[p+1],4,-1530992060),c=O(c,l,u,f,h[p+4],11,1272893353),f=O(f,c,l,u,h[p+7],16,-155497632),u=O(u,f,c,l,h[p+10],23,-1094730640),l=O(l,u,f,c,h[p+13],4,681279174),c=O(c,l,u,f,h[p+0],11,-358537222),f=O(f,c,l,u,h[p+3],16,-722521979),u=O(u,f,c,l,h[p+6],23,76029189),l=O(l,u,f,c,h[p+9],4,-640364487),c=O(c,l,u,f,h[p+12],11,-421815835),f=O(f,c,l,u,h[p+15],16,530742520),u=O(u,f,c,l,h[p+2],23,-995338651),l=A(l,u,f,c,h[p+0],6,-198630844),c=A(c,l,u,f,h[p+7],10,1126891415),f=A(f,c,l,u,h[p+14],15,-1416354905),u=A(u,f,c,l,h[p+5],21,-57434055),l=A(l,u,f,c,h[p+12],6,1700485571),c=A(c,l,u,f,h[p+3],10,-1894986606),f=A(f,c,l,u,h[p+10],15,-1051523),u=A(u,f,c,l,h[p+1],21,-2054922799),l=A(l,u,f,c,h[p+8],6,1873313359),c=A(c,l,u,f,h[p+15],10,-30611744),f=A(f,c,l,u,h[p+6],15,-1560198380),u=A(u,f,c,l,h[p+13],21,1309151649),l=A(l,u,f,c,h[p+4],6,-145523070),c=A(c,l,u,f,h[p+11],10,-1120210379),f=A(f,c,l,u,h[p+2],15,718787259),u=A(u,f,c,l,h[p+9],21,-343485551),l=l+W>>>0,u=u+q>>>0,f=f+J>>>0,c=c+K>>>0}return o.endian([l,u,f,c])};n._ff=function(i,y,h,S,l,u,f){var c=i+(y&h|~y&S)+(l>>>0)+f;return(c<<u|c>>>32-u)+y},n._gg=function(i,y,h,S,l,u,f){var c=i+(y&S|h&~S)+(l>>>0)+f;return(c<<u|c>>>32-u)+y},n._hh=function(i,y,h,S,l,u,f){var c=i+(y^h^S)+(l>>>0)+f;return(c<<u|c>>>32-u)+y},n._ii=function(i,y,h,S,l,u,f){var c=i+(h^(y|~S))+(l>>>0)+f;return(c<<u|c>>>32-u)+y},n._blocksize=16,n._digestsize=16,Gt.exports=function(i,y){if(i==null)throw new Error("Illegal argument "+i);var h=o.wordsToBytes(n(i,y));return y&&y.asBytes?h:y&&y.asString?a.bytesToString(h):o.bytesToHex(h)}})();const te=`:root{font-family:Inter,Avenir,Helvetica,Arial,sans-serif;font-size:16px;line-height:24px;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}#root{max-width:1280px;margin:0 auto;padding:2rem;text-align:center}:host{max-width:1280px;margin:0 auto;display:flex;flex-direction:column;padding:2rem;color:#213547;background-color:#f3f3f3;position:absolute}.card{padding:2em}.read-the-docs{color:#888}@media (prefers-color-scheme: dark){.logo.jwc:hover{filter:drop-shadow(0 0 2em rgb(255,255,255))}}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}input{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;transition:border-color .25s}@media (prefers-color-scheme: light){button,input{background-color:#f9f9f9}}.tabs{display:flex;flex-direction:column;margin-bottom:1em}.tab{margin-right:1em}.textarea{outline:none!important;width:97%;height:100%;border:none;border-radius:8px;padding:1em;font-size:1em;font-family:inherit;resize:none;min-height:100px}.position-right{margin-left:auto}.comment-form-header{display:flex;justify-content:space-between;align-items:center;padding:8px 16px;border-bottom:1px solid #e1e4e8;margin-bottom:16px}.comment-form-header-left{display:flex;align-items:center}.comment-form-avatar{width:32px;height:32px;border-radius:50%;overflow:hidden}.avatar{width:100%;height:100%}.comment-form-author{margin-left:8px}.author{font-size:14px;font-weight:600;color:#24292e;margin-bottom:4px;background-color:#f3f3f3;outline:none!important}.author-email{font-size:12px;color:#586069}.author-email input{outline:none!important;font-size:12px;color:#586069;margin-right:10px;background-color:#f3f3f3}.comment-form-header-right{display:flex;align-items:center}.comment-form-time{margin-left:8px}.time{font-size:12px;color:#586069}#emoji-picker-c{position:absolute;top:5.5rem;right:3.5rem;animation:fade-in .2s ease-in-out}@keyframes fade-in{0%{opacity:0;transform:translateY(-1rem)}to{opacity:1;transform:translateY(0)}}.show{display:block}.hide{display:none}@media (prefers-color-scheme: dark){:host{color:#ffffffde;background-color:#242424}.comment-form-header{border-bottom:1px solid #242424;color:#ffffffde}.author,.author-email input{background-color:#242424;color:#ffffffde}}@media (max-width: 768px){.comment-form-header-left{flex-direction:column;align-items:flex-start}.comment-form-author,.comment-form-author-email,.comment-form-author-website{margin-left:-15px}.comment-form-author{margin-bottom:-8px}}.active{opacity:.1;cursor:not-allowed}.comment-form-children{margin-top:10px}.comment-list{padding:10px}.comment-item{padding:10px;border-radius:5px;margin-bottom:10px}.comment-item-header{display:flex}.comment-item-avatar{width:40px;height:40px}.comment-item-avatar img{width:100%;height:100%;border-radius:50%}.comment-item-info{margin-left:10px}.comment-item-name{font-weight:700}.comment-item-time{color:#999;font-size:12px}.comment-item-content{margin-top:10px}.comment-item-reply{display:inline;margin-left:10px}.comment-item-reply button{opacity:0;padding:1px 10px;border-radius:5px;font-size:10px;transition:opacity .2s,border .2s}.comment-item-reply button:hover{border:1px solid #999}.comment-item:hover .comment-item-reply button{opacity:1}
`;var ee=Object.defineProperty,re=Object.getOwnPropertyDescriptor,z=(o,t,e,a)=>{for(var n=a>1?void 0:a?re(t,e):t,i=o.length-1,y;i>=0;i--)(y=o[i])&&(n=(a?y(t,e,n):y(n))||n);return a&&n&&ee(t,e,n),n};let R=class extends Yt{constructor(){super()}getCommentPostData(){return{...this.data,pid:this.pid,author:this.data.name}}async postComment(){var n;const o=this.getCommentPostData();let t=!1;if((!this.pid||!this.api)&&(t=!0),(!o.name||!o.email||!o.text)&&(t=!0),t){console.group("❌ mog-comments: Failed to post comment"),["name","email","text"].forEach(i=>{o[i]||console.log(`❓ ${i} is not provided, but it is required.`)}),this.pid||console.log("❓ pid is not provided, but it is required."),this.api||console.log("❓ api is not provided, but it is required."),console.groupEnd();return}const a=await(await fetch(`${(n=this.api)==null?void 0:n.replace(/\/$/,"")}/comments${this.data.replyID?`/${this.data.replyID}`:""}`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).json();(a==null?void 0:a.code)===200&&(console.group("✅ mog-comments: Comment is posted."),console.log(a),console.groupEnd(),this.getCommentList()),this.data.text=""}getCommentList(){var o;fetch(`${(o=this.api)==null?void 0:o.replace(/\/$/,"")}/comments/${this.pid}`).then(t=>t.json()).then(t=>{this.list=(t==null?void 0:t.data)||[],console.group("✅ mog-comments: Comment list is loaded."),console.log(t),console.log(this.list),console.groupEnd()}).catch(t=>{console.group("❌ mog-comments: Failed to get comment list"),console.log(t),console.groupEnd()})}connectedCallback(){super.connectedCallback();const o=window.localStorage.getItem("mog-comments-author-info");o&&(this.data=JSON.parse(o)),console.log("mog-comments: Author info is loaded from local storage."),this.getCommentList();const e=this.shadowRoot.getElementById("emoji-picker");e.onload=()=>{this.initEmojiPicker(),console.log("mog-comments: Emoji picker is initialized.")}}initEmojiPicker(){const o={onEmojiSelect:n=>{const i=e.querySelector(".textarea");i.value+=n.native,i.focus()},previewPosition:"top",onClickOutside:()=>{e.getElementById("emoji-picker-c").removeChild(t),e.getElementById("emoji-picker-c").classList.toggle("show"),e.getElementById("emoji-picker-c").classList.toggle("hide")}},t=new window.EmojiMart.Picker(o),e=this.shadowRoot;e.querySelector(".time").addEventListener("click",()=>{e.getElementById("emoji-picker-c").classList.toggle("show"),e.getElementById("emoji-picker-c").classList.toggle("hide"),e.getElementById("emoji-picker-c").classList.contains("show")?e.getElementById("emoji-picker-c").appendChild(t):e.getElementById("emoji-picker-c").removeChild(t)})}mailAvatar(o){return(e=>`https://cravatar.cn/avatar/${Z(e)}`)(o)}render(){var o,t,e,a,n;return x(Wt,null,x("script",{src:"https://cdn.jsdelivr.net/npm/emoji-mart@latest/dist/browser.js",id:"emoji-picker"}),x("div",{class:"comment-form-header"},x("div",{class:"comment-form-header-left"},x("div",{class:"comment-form-avatar"},x("img",{class:"avatar",src:"https://github.com/wibus-wee.png",alt:"avatar"})),x("div",{class:"comment-form-author"},x("input",{type:"text",class:"author",name:"comment[author]","aria-label":"Author",placeholder:"Author","aria-describedby":"comment-field-error","aria-invalid":"false",value:((o=this.data)==null?void 0:o.name)||"",onChange:i=>{this.data.name=i.target.value,window.localStorage.setItem("mog-comments-author-info",JSON.stringify(this.data))}})),x("div",{class:"comment-form-author-email"},x("span",{class:"author-email"},x("input",{type:"text",name:"comment[author_email]","aria-label":"Email",placeholder:"Email","aria-describedby":"comment-field-error","aria-invalid":"false",value:((t=this.data)==null?void 0:t.email)||"",onChange:i=>{this.data.email=i.target.value,window.localStorage.setItem("mog-comments-author-info",JSON.stringify(this.data))}}))),x("div",{class:"comment-form-author-website"},x("span",{class:"author-email"},x("input",{type:"text",name:"comment[author_website]","aria-label":"URL",placeholder:"URL","aria-describedby":"comment-field-error","aria-invalid":"false",value:((e=this.data)==null?void 0:e.url)||"",onChange:i=>{this.data.url=i.target.value,window.localStorage.setItem("mog-comments-author-info",JSON.stringify(this.data))}})))),x("div",{class:"comment-form-header-right"},x("div",{class:"comment-form-time"},x("button",{class:"time"},"Emoji 😜")),x("div",{id:"emoji-picker-c",class:"hide"}))),x("div",{class:"comment-form-body"},x("textarea",{class:"textarea",name:"comment[body]","aria-label":"Comment body",placeholder:"Leave a comment","aria-describedby":"comment-field-error","aria-invalid":"false",rows:1,onChange:i=>{this.data.text=i.target.value},value:((a=this.data)==null?void 0:a.text)||""})),x("div",{class:"tabs position-right"},x("div",{class:"",role:"tablist"},x("button",{type:"button",class:"tab","aria-selected":"true",tabIndex:0,id:"send-comment",onClick:async i=>{i.preventDefault(),i.currentTarget.classList.add("active"),i.currentTarget.blur(),await this.postComment().then(()=>{this.data.text=""}).finally(()=>{const h=this.shadowRoot.getElementById("send-comment");setTimeout(()=>{h.classList.remove("active")},1e3)})}},x("span",null,"发送")))),x("div",{class:"comment-form-children"},x("div",{class:"comment-list"},(n=this.list)==null?void 0:n.map(i=>x("div",{class:"comment-item"},x("div",{class:"comment-item-header"},x("div",{class:"comment-item-avatar"},x("img",{class:"avatar",src:this.mailAvatar(i.email),alt:"avatar"})),x("div",{class:"comment-item-info"},x("div",{class:"comment-item-name"},i.name,x("div",{class:"comment-item-reply"},x("button",{class:"reply"},"回复"))),x("div",{class:"comment-item-time"},new Date(i.created).toLocaleString()))),x("div",{class:"comment-item-content"},i.text))))))}};z([U({})],R.prototype,"pid",2);z([U({})],R.prototype,"api",2);z([U({default:[]})],R.prototype,"list",2);z([U({default:{}})],R.prototype,"data",2);R=z([Vt({name:"mog-comments",css:te})],R);
